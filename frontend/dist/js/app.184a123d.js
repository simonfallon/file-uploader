(function(){"use strict";var e={6276:function(e,t,l){var n=l(5130),o=l(6768);function i(e,t,l,n,i,a){const r=(0,o.g2)("FileUpload"),s=(0,o.g2)("v-card-actions"),u=(0,o.g2)("FileList"),c=(0,o.g2)("v-card"),d=(0,o.g2)("v-col"),f=(0,o.g2)("v-row"),p=(0,o.g2)("v-container"),h=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(p,{fluid:"","fill-height":""},{default:(0,o.k6)((()=>[(0,o.bF)(f,{align:"center",justify:"center"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{cols:"12",sm:"8",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"pa-4"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{class:"justify-center"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{onFileUploaded:a.fetchFiles},null,8,["onFileUploaded"])])),_:1}),(0,o.bF)(u,{ref:"fileList"},null,512)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var a=l(4232);const r=e=>((0,o.Qi)("data-v-2f3c8d0b"),e=e(),(0,o.jt)(),e),s={class:"upload-container"},u=r((()=>(0,o.Lk)("h2",null,"Upload Your CV in PDF format",-1))),c={class:"button-container"},d={key:0,class:"file-name"},f={class:"upload-message"};function p(e,t,l,n,i,r){return(0,o.uX)(),(0,o.CE)("div",s,[u,(0,o.Lk)("div",c,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e)),class:"select-button"},"Select File"),i.selectedFile?((0,o.uX)(),(0,o.CE)("p",d,"Selected file: "+(0,a.v_)(i.selectedFile.name),1)):(0,o.Q3)("",!0),(0,o.Lk)("input",{type:"file",ref:"fileInput",onChange:t[1]||(t[1]=(...e)=>r.onFileChange&&r.onFileChange(...e)),style:{display:"none"}},null,544),i.selectedFile?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>r.uploadFile&&r.uploadFile(...e)),class:"upload-button"},"Upload")):(0,o.Q3)("",!0)]),(0,o.Lk)("p",f,(0,a.v_)(i.uploadMessage),1)])}var h=l(4373),F={data(){return{selectedFile:null,uploadMessage:""}},methods:{triggerFileInput(){this.$refs.fileInput.click()},onFileChange(e){this.selectedFile=e.target.files[0],this.uploadMessage=null},async uploadFile(){if(!this.selectedFile)return void(this.uploadMessage="Please select a file");if("application/pdf"!==this.selectedFile.type)return alert("Only PDF files are allowed"),this.selectedFile=null,void(this.uploadMessage="Only PDF files are allowed");const e=new FormData;e.append("file",this.selectedFile);try{const t=await h.A.post("http://192.168.1.41:3000/api/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),l=t.data.filename;alert(`File ${l} uploaded successfully!`),this.uploadMessage=`File ${l} uploaded successfully!`,this.selectedFile=null,this.$emit("file-uploaded"),console.log("File uploaded:",t.data)}catch(t){console.error("File upload failed",t),alert(`File upload failed: ${t.message}`),this.uploadMessage=`File upload failed: ${t.message}`}}}},g=l(1241);const v=(0,g.A)(F,[["render",p],["__scopeId","data-v-2f3c8d0b"]]);var y=v;const b=e=>((0,o.Qi)("data-v-67391808"),e=e(),(0,o.jt)(),e),k={class:"container"},m=b((()=>(0,o.Lk)("h2",null,"File List",-1))),w={class:"table-container"},L=b((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Filename"),(0,o.Lk)("th",null,"Upload Date"),(0,o.Lk)("th",null,"Actions")])],-1))),C=["onClick"],_=["onClick"],O={key:0};function $(e,t,l,n,i,r){return(0,o.uX)(),(0,o.CE)("div",k,[m,(0,o.Lk)("div",w,[(0,o.Lk)("table",null,[L,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.files,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.filename},[(0,o.Lk)("td",null,(0,a.v_)(e.filename),1),(0,o.Lk)("td",null,(0,a.v_)(new Date(e.upload_date).toLocaleString()),1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{class:"delete-button",onClick:t=>r.deleteFile(e.filename)},"Delete",8,C),(0,o.Lk)("button",{class:"download-button",onClick:t=>r.downloadFile(e.filename)},"Download",8,_)])])))),128))])]),0===i.files.length?((0,o.uX)(),(0,o.CE)("p",O,"No files available.")):(0,o.Q3)("",!0)])])}l(4603),l(7566),l(8721);const E="http://192.168.1.41:3000/api";var j={data(){return{files:[]}},async created(){this.fetchFiles()},methods:{async fetchFiles(){try{const e=await h.A.get(`${E}/files`);this.files=e.data}catch(e){console.error("Error fetching files:",e)}},async deleteFile(e){if(confirm(`Are you sure you want to delete this file (${e})?`))try{await h.A.delete(`${E}/files/${e}`),this.fetchFiles(),alert(`File ${e} deleted successfully!`)}catch(t){console.error("Error deleting file:",t)}},async downloadFile(e){try{const t=await h.A.get(`${E}/download/${e}`,{responseType:"blob"}),l=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=l,n.setAttribute("download",e),document.body.appendChild(n),n.click(),n.remove(),alert(`File ${e} downloaded successfully!`)}catch(t){console.error("Error downloading file:",t)}}}};const A=(0,g.A)(j,[["render",$],["__scopeId","data-v-67391808"]]);var M=A,S={components:{FileUpload:y,FileList:M},methods:{fetchFiles(){this.$refs.fileList.fetchFiles()}}};const U=(0,g.A)(S,[["render",i]]);var D=U,I=l(4448),P=(l(5524),l(8221));const X=(0,I.$N)({theme:{themes:{light:{colors:{primary:"#1E88E5",secondary:"#FFC107"}}}},icons:{defaultSet:P.r}});var T=X;const x=(0,n.Ef)(D);x.use(T),x.mount("#app")}},t={};function l(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(t,n,o,i){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],i=e[c][2];for(var r=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(l.O).every((function(e){return l.O[e](n[s])}))?n.splice(s--,1):(r=!1,i<a&&(a=i));if(r){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],r=n[1],s=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in r)l.o(r,o)&&(l.m[o]=r[o]);if(s)var c=s(l)}for(t&&t(n);u<a.length;u++)i=a[u],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504],(function(){return l(6276)}));n=l.O(n)})();
//# sourceMappingURL=app.184a123d.js.map